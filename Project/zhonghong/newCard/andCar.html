<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
	<title>和教授粉丝信用卡</title>
	<link rel="stylesheet" href="css/style.css" />
	<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
	<script type="text/javascript" src="js/CnToPy.js"></script>
</head>
<body>
	<section class="section2">
		<!-- carBanner start -->
		<div><img src="images/andCar1.jpg" alt="andCar1" /></div>
		<!-- carBanner end -->

		<div class="unionPayCar">
			<!-- 和教授粉丝信用卡 start -->
			<div class="carTitle">和教授粉丝信用卡</div>
			<!-- 和教授粉丝信用卡 end -->

			<!-- carState start -->
			<div class="carState">
				<p>
					本卡为虚拟卡片，无法作为真实信用卡使用。如需申请真实信用卡，可点击“中国银联95516”公众号菜单【我】-【我要选卡】进行申请.
				</p>
			</div>
			<!-- carState end -->

			<!-- 姓名 start-->
			<div class="carInputInfo">
				<span>姓名</span>
				<input type="text" id="carFristName" maxlength="2" style="width:70px" placeholder="姓"  onkeydown="charKeyPress(0)" />
				<input type="text" id="carLastName" maxlength="3" style="width:110px" placeholder="名"  onkeydown="charKeyPress(1)" />
			</div>
			<!-- 姓名 end-->

			<!-- 生日 start -->
			<div class="carInputInfo">
				<span>生日</span>

				<select name="sel_year" id="sel_year" rel="2016" style="width:80px;"></select>

				<select name="sel_month" id="sel_month" rel="1"  style="width:65px;"></select>

				<select name="sel_day" id="sel_day" rel="1"  style="width:65px;"></select>
			</div>
			<!-- 生日 end -->

			<!-- 额度 start -->
			<div class="carInputInfo">
				<span>额度</span>
				<input type="tel" id="carEd" maxlength="10" placeholder="上限62亿元" onkeyup="this.value=this.value.replace(/\D/g,'')"  onafterpaste="this.value=this.value.replace(/\D/g,'')" />
			</div>
			<!-- 额度 end -->

			<!-- checked start -->
			<div class="carCbxInfo" onclick="checked()">
				<span class="checkbox" ></span>
				<img src="images/check1.png" alt="check1" class="checkImg" />
				<span>我知道本卡为虚拟卡片，无实际作用</span>
			</div>
			<!-- checked end -->

			<!-- 点击生成 start -->
			<div class="btnCss2" style="width:100%;">
				<a href="javascript:void(0)" class="btn2" onclick="btnSubmit()"><span>点击生成</span></a>
			</div>
			<!-- 点击生成 end -->

		</div>
	</section>

	<!--model start-->
    <div id="mask" class="mask" ></div>  
    <div id="model" class="model" ></div>
    
    <div id="modal-box" style="display:none;">
        <div class="modalbox2">
            <div class="openfd">
            	<!-- 关闭按钮 start -->
                <div class="closed" onclick="hideAll('#model')"><img src="images/andClose_03.png" /></div>
            	<!-- 关闭按钮 end -->

				<!-- 返回信息提示 start -->
                <div class="returnInfo">
                    <span></span>
                </div>
				<!-- 返回信息提示 end -->
                
	            <!--btnCss start-->
	            <div class="btnCss2" style="width:70%;margin-top:40px;margin-bottom:10px;">
	                <a href="javascript:void(0)" class="btn2" onclick="hideAll('#model')" style="width: 190px;height: 45px;
	    line-height: 45px;">确定</a>
	            </div>
	            <!--btnCss end-->
            
            </div>
            
        </div>
    </div>
	<!--model end-->
	<!--提示办卡-->
	<!--提示-->
	<div class="tips-popup popup hide">
		<div class="popup-inner">
			<img src="images/youmake.jpg">
			<div class="tips-sure">确定</div>
			<div class="tips-close"><img src="images/close-btn.png"></div>
		</div>
	</div>

</body>
<script type="text/javascript" src="js/popup.js"></script>
<script type="text/javascript" src="js/birthday.js"></script>
<script>

	$(function () {
		$('.tips-sure,.tips-close').click(function () {
			$('.tips-popup').hide();
        });
		//生日控件
	    $.ms_DatePicker({ 
	        YearSelector: "#sel_year", //年
	        MonthSelector: "#sel_month", //月
	        DaySelector: "#sel_day" , //日
	    }); 
	}); 

	//提交信息
	function btnSubmit(){

		$(".returnInfo").html("");

		//姓
		var carFristName=$("#carFristName").val();
		if(carFristName.length==0){
			$(".returnInfo").html("<span>请输入姓</span>");
			showAll("#model","#modal-box");
			return false;
		}

		//名
		var carLastName=$("#carLastName").val();
		if(carLastName.length==0){
			$(".returnInfo").html("<span>请输入名字</span>");
			showAll("#model","#modal-box");
			return false;
		}

		//汉子转换为拼音
		var py=ConvertPinyin(carFristName)+" "+ConvertPinyin(carLastName);

		//额度
		var ed=$("#carEd").val();
		if(ed.length==0){
			$(".returnInfo").html("<span>请输入额度</span>");
			showAll("#model","#modal-box");
			return false;
		}

		//额度最大上限为62亿元
		if(parseInt(ed)>6200000000 || parseInt(ed)<0){

			$(".returnInfo").html("<span>额度上限为62亿元<br>请重新输入</span>");
			showAll("#model","#modal-box");
			$("#carEd").val("");
			return false;
		}

		if(isNaN(ed)){
			$(".returnInfo").html("<span>额度应为数字</span>");
			showAll("#model","#modal-box");
		   return false;
		}


		window.location.href="andCar2.html?py="+py+"&ed="+ed;

	}

	function checked(){

		//$(".checkImg").toggle();
	}
	
	//字符限制
	function charKeyPress(i) { 
		var carFristName=$("#carFristName").val();

		var carLastName=$("#carLastName").val();

		console.log(carFristName,carLastName)

		if(i==0){
			console.log(carLastName.length)
			if(carLastName.length==3){
				$("#carFristName").attr("maxlength",1);
			}
			else{
				$("#carFristName").attr("maxlength",2);
			}
		} 
		else if(i==1){
			if(carFristName.length==2){
				$("#carLastName").attr("maxlength",2);
			}
			else{
				$("#carLastName").attr("maxlength",3);
			}
		}   
	}


	//只能输入数字
	function keyPress() {    
		var keyCode = event.keyCode;    
		if ((keyCode >= 48 && keyCode <= 57))    
		{    
		event.returnValue = true;    
		} else {    
		event.returnValue = false;    
		}    
	}

</script>

</html>