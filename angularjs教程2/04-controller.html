<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <title>angular controller</title>
</head>
<body>
<table ng-controller="HelloContrl">
    <tr>
        <td>用户名</td>
        <td><input type="text" ng-model="user.username"></td>
    </tr>
    <tr>
        <td>密码</td>
        <td><input type="password" ng-model="user.password"></td>
    </tr>
    <tr>
        <td></td>
        <td><input type="button" value="登录" ng-click="login()"></td>
    </tr>
    <tr>
        <td></td>
        <td>{{message}}</td>
    </tr>
</table>
<script src="angular.js"></script>
<script>
    //创建模块
    var app= angular.module('myApp',[]);
    //为模块创建个控制器
    app.controller('HelloContrl',['$scope',function ($scope) {

        //数据
        $scope.user={
            username:'',
            password:''
        };
        //行为数据
        $scope.login=function () {
            console.log($scope.user.username);
        };
        //检测用户名是否输入合法
        $scope.message='请输入用户名';
        $scope.$watch('user.username',function (now,old) {
            /*console.log('now是：'+now);
            console.log('old是：'+old);*/
            if(now){
                if(now.length<7){
                    $scope.message='输入用户名小于7位';
                }else {
                    $scope.message='';
                }
            }else {
                $scope.message='请输入用户名';
            }
        })
    }])
</script>
</body>
</html>